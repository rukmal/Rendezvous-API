<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Rendezvous API : The awesome API behind the even better Rendezvous." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Rendezvous API</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/rukmal/Rendezvous-API">View on GitHub</a>

          <h1 id="project_title">Rendezvous API</h1>
          <h2 id="project_tagline">The awesome API behind the even better Rendezvous.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/rukmal/Rendezvous-API/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/rukmal/Rendezvous-API/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="rendezvous-api-endpoints" class="anchor" href="#rendezvous-api-endpoints"><span class="octicon octicon-link"></span></a><a href="http://getrendezvous.co">Rendezvous</a> API Endpoints</h1>

<p>This Wiki contains documentation for all Rendezvous REST API endpoints. All functioning endpoints are documented below. There is currently no limit on API calls per user.</p>

<p>Base URL: <a href="http://api.getrendezvous.co/">http://api.getrendezvous.co/</a></p>

<p><strong>IMPORTANT:</strong></p>

<ul>
<li><strong>Most API calls require a valid API key. Contact system administrator for more information. API keys must be passed through with the header 'key', unless otherwise specified.</strong></li>
<li><strong>All status codes are returned as a JSON object with a key 'status'</strong></li>
</ul><p><em>Note: For information about HTTP error codes, see the W3 guide <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">here</a>.</em></p>

<h2>
<a name="user-endpoint" class="anchor" href="#user-endpoint"><span class="octicon octicon-link"></span></a><code>/user</code> Endpoint</h2>

<table>
<thead><tr>
<th align="left">Endpoint</th>
<th align="center">Method</th>
<th align="left">Request Headers</th>
<th align="left">Response Codes</th>
<th align="left">Response Object Headers</th>
<th align="left">Security</th>
</tr></thead>
<tbody>
<tr>
<td align="left"><code>/user/new/</code></td>
<td align="center">POST</td>
<td align="left"><ul>
<li>
<code>username</code> Username of the new user. Must be unique</li>
<li>
<code>password</code> Password of the new user</li>
<li>
<code>firstname</code> First name of the new user</li>
<li>
<code>lastname</code> Last name of the new user</li>
<li>
<code>facebook_id</code> Facebook ID of the user (if logging in with Facebook) [optional]</li>
<li>
<code>picture</code> URL to user picture. Can be blank, but the header is required</li>
<li>
<code>phone</code> Phone number of the new user</li>
</ul></td>
<td align="left"><ul>
<li>
<code>200</code> All OK. Returns new user object</li>
<li>
<code>400</code> Invalid request</li>
<li>
<code>409</code> Duplicates detected in conflicting fields. User not added</li>
</ul></td>
<td align="left">Response code <code>200</code>
</td>
<td align="left">API key</td>
</tr>
<tr>
<td align="left"><code>/user/new/</code></td>
<td align="center">PUT</td>
<td align="left"><ul>
<li>
<code>username</code> Username of the new user</li>
<li>
<code>code</code> Confirmation code of the new user</li>
</ul></td>
<td align="left"><ul>
<li>
<code>200</code> All OK. User object sent as response</li>
<li>
<code>204</code> User object not found. This would occur if this step is attempted before initializing the new user</li>
<li>
<code>400</code> Invalid request</li>
<li>
<code>401</code> Unauthorized. Confirmation codes did not match</li>
<li>
<code>409</code> Duplicate fields found. This occurs when another user has signed up before the current user has completed his/her authentication process</li>
</ul></td>
<td align="left"><ul>
<li>
<code>firstname</code> First name of the user</li>
<li>
<code>lastname</code> Last name of the user</li>
<li>
<code>facebook_id</code> Facebook ID of the user (only appears if the user initially authenticated with Facebook)</li>
<li>
<code>password</code> Hashed password (for local authentication)</li>
<li>
<code>username</code> Username of the user</li>
<li>
<code>phone</code> Phone number of the user</li>
<li>
<code>picture</code> URL of the user picture</li>
<li>
<code>friends</code> Friend's user object of the current user</li>
<li>
<code>current_status</code> Current status of the user</li>
</ul></td>
<td align="left">API key</td>
</tr>
<tr>
<td align="left"><code>/user/picture/</code></td>
<td align="center">GET</td>
<td align="left"><ul><li>
<code>username</code> Username who's picture is to be retrieved</li></ul></td>
<td align="left"><ul>
<li>
<code>200</code> All OK. Returns correct object</li>
<li>
<code>204</code> No user found corresponding to username. This could only occur if a search for a user picture is attempted before he/she registers</li>
<li>
<code>400</code> Invalid request</li>
</ul></td>
<td align="left"><ul>
<li>
<code>username</code> Username of the user who's picture is being returned</li>
<li>
<code>picture</code> URL to the user's picture</li>
</ul></td>
<td align="left">API key</td>
</tr>
<tr>
<td align="left"><code>/user/exists/</code></td>
<td align="center">GET</td>
<td align="left"><ul><li>
<code>username</code> Username to be checked for availability</li></ul></td>
<td align="left"><ul>
<li>
<code>200</code> All OK. Request succcessful</li>
<li>
<code>400</code> Invalid request</li>
</ul></td>
<td align="left"><ul><li>
<code>availability</code> Boolean value. True if available, false if not</li></ul></td>
<td align="left">API key</td>
</tr>
<tr>
<td align="left"><code>/user/exists/fb/</code></td>
<td align="center">GET</td>
<td align="left"><ul><li>
<code>facebook_id</code> Facebook ID of the person to be serached for in the database</li></ul></td>
<td align="left"><ul>
<li>
<code>200</code> All OK. Returns the user object of the corresponding person (if it exists)</li>
<li>
<code>204</code> No user found for the corresponding ID</li>
<li>
<code>400</code> Invalid request</li>
</ul></td>
<td align="left"><ul>
<li>
<code>firstname</code> First name of the user</li>
<li>
<code>lastname</code> Last name of the user</li>
<li>
<code>facebook_id</code> Facebook ID of the user (only appears if they registered with it)</li>
<li>
<code>password</code> Hashed password (for local authentication)</li>
<li>
<code>username</code> Username of the user</li>
<li>
<code>phone</code> Phone number of the user</li>
<li>
<code>picture</code> URL of the user picture</li>
<li>
<code>friends</code> Friend's user object of the current user</li>
<li>
<code>current_status</code> Current status of the user</li>
</ul></td>
<td align="left">API key</td>
</tr>
<tr>
<td align="left"><code>/user/login/</code></td>
<td align="center">POST</td>
<td align="left"><ul>
<li>
<code>username</code> Username of the person to be logged on</li>
<li>
<code>password</code> Password of the user</li>
</ul></td>
<td align="left"><ul>
<li>
<code>200</code> All OK. Returns user object</li>
<li>
<code>204</code> Username not found on server</li>
<li>
<code>400</code> Invalid request</li>
<li>
<code>401</code> Unauthorized. Valid username, invalid password</li>
</ul></td>
<td align="left"><ul>
<li>
<code>firstname</code> First name of the user</li>
<li>
<code>lastname</code> Last name of the user</li>
<li>
<code>facebook_id</code> Facebook ID of the user (only appears if they registered with it)</li>
<li>
<code>password</code> Hashed password (for local authentication)</li>
<li>
<code>username</code> Username of the user</li>
<li>
<code>phone</code> Phone number of the user</li>
<li>
<code>picture</code> URL of the user picture</li>
<li>
<code>friends</code> Friend's user object of the current user</li>
<li>
<code>current_status</code> Current status of the user</li>
</ul></td>
<td align="left">API key</td>
</tr>
<tr>
<td align="left"><code>/user/login/encrypted/</code></td>
<td align="center">POST</td>
<td align="left"><ul>
<li>
<code>username</code> Username of the user to be logged on</li>
<li>
<code>encrypted_password</code> Encrypted password of the user to be logged on</li>
</ul></td>
<td align="left"><ul>
<li>
<code>200</code> All OK. Returns user object</li>
<li>
<code>204</code> No user found for the corresponding username</li>
<li>
<code>400</code> Invalid request</li>
<li>
<code>401</code> Unauthorized. Valid username, invalid password</li>
</ul></td>
<td align="left"><ul>
<li>
<code>firstname</code> First name of the user</li>
<li>
<code>lastname</code> Last name of the user</li>
<li>
<code>facebook_id</code> Facebook ID of the user (only appears if the user initially authenticated with Facebook)</li>
<li>
<code>password</code> Hashed password (for local authentication)</li>
<li>
<code>username</code> Username of the user</li>
<li>
<code>phone</code> Phone number of the user</li>
<li>
<code>picture</code> URL of the user picture</li>
<li>
<code>friends</code> Friend's user object of the current user</li>
<li>
<code>current_status</code> Current status of the user</li>
</ul></td>
<td align="left">API key</td>
</tr>
<tr>
<td align="left"><code>/user/find_friends/</code></td>
<td align="center">POST</td>
<td align="left"><ul>
<li>
<code>number_list</code> Array of phone numbers to be searched for in the database</li>
<li>
<code>username</code> Current username of the user (for validation)</li>
</ul></td>
<td align="left"><ul>
<li>
<code>200</code> All OK. Returns JSON array of user objects corresponding to list of phone numbers</li>
<li>
<code>204</code> No user found that corresponds to the username. This would only be because the user has not yet registered with the application</li>
<li>
<code>400</code> Invalid request</li>
<li>
<code>500</code> Internal server error. Contact developer if this occurs</li>
</ul></td>
<td align="left"><ul>
<li>
<code>results</code> Array of user objects</li>
<li>
<code>first_name</code> First name of the user</li>
<li>
<code>last_name</code> Last name of the user</li>
<li>
<code>username</code> Username of the user</li>
</ul></td>
<td align="left">API key</td>
</tr>
<tr>
<td align="left"><code>/user/invite/</code></td>
<td align="center">POST</td>
<td align="left"><ul>
<li>
<code>username</code> Username of the user making the request</li>
<li>
<code>target_phone</code> Target phone number of the person to be invited to the application</li>
</ul></td>
<td align="left"><ul>
<li>
<code>200</code> All OK. Request sent successfully</li>
<li>
<code>204</code> No user corresponding to the username found on the server</li>
<li>
<code>400</code> Invalid request</li>
</ul></td>
<td align="left"><ul><li>Response code <code>200</code>
</li></ul></td>
<td align="left">API key</td>
</tr>
</tbody>
</table><h2>
<a name="status-endpoint" class="anchor" href="#status-endpoint"><span class="octicon octicon-link"></span></a><code>/status</code> Endpoint</h2>

<table>
<thead><tr>
<th align="left">Endpoint</th>
<th align="center">Method</th>
<th align="left">Request Headers</th>
<th align="left">Response Codes</th>
<th align="left">Response Object Headers</th>
<th align="left">Security</th>
</tr></thead>
<tbody><tr>
<td align="left"><code>/status/new/</code></td>
<td align="center">POST</td>
<td align="left"><ul>
<li>
<code>username</code> Username of the person whose status is to be set</li>
<li>
<code>type</code> Type of status (i.e. Movie, Chill etc.)</li>
<li>
<code>location_lat</code> Latitudinal location of the person at the time the post was made</li>
<li>
<code>location_lon</code> Longitudinal location of the person at the time the post was made</li>
<li>
<code>expiration_time</code> Expiration time of the post (OPTIONAL). If not set, this value falls back to the default. This must be sent in milliseconds</li>
</ul></td>
<td align="left"><ul>
<li>
<code>200</code> All OK. Returns status object with the following fields</li>
<li>
<code>400</code> Invalid request</li>
<li>
<code>409</code> Duplicates detected. The current status must either be deleted with a DELETE request, or updated with a PUT request. See other endpoints</li>
</ul></td>
<td align="left"><ul>
<li>
<code>time</code> Time the status object was created</li>
<li>
<code>type</code> Type of the status (i.e. Movie, chill etc.)</li>
<li>`<code>location_lat</code> Latitude of the user when the status was created</li>
<li>
<code>location_lon</code> Longitude of the user when the statuswas created</li>
<li>
<code>expiration_time</code> Expiration time of the status (JS date object)</li>
</ul></td>
<td align="left">API key</td>
</tr></tbody>
</table><h2>
<a name="commonn-workflows" class="anchor" href="#commonn-workflows"><span class="octicon octicon-link"></span></a>Commonn Workflows</h2>

<h3>
<a name="adding-a-new-user" class="anchor" href="#adding-a-new-user"><span class="octicon octicon-link"></span></a>Adding a new user</h3>

<p>Due to the nature of the two step verification process of adding a new user, two seperate requests must be made. The following steps must be followed:</p>

<ul>
<li>Send a POST request to the <code>/user/new/</code> endpoint with the required headers. This will then send a verification text message to the user.</li>
<li>Prompt the user to enter the confirmation code sent via text, and send a PUT request to <code>/user/new/</code> with the required headers. This process will authenticate the confirmation code and add the new user to the database.</li>
</ul><h3>
<a name="adding-a-new-status" class="anchor" href="#adding-a-new-status"><span class="octicon octicon-link"></span></a>Adding a new Status</h3>

<ul>
<li>Send a POST request to the <code>/status/new</code> endpoint. This will then return a new status object, that can be displayed to the user. The server will automatically delete the status object if it is expired.</li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Rendezvous API maintained by <a href="https://github.com/rukmal">rukmal</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
